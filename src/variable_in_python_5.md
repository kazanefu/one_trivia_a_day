# 今日の豆知識.5

Python使ってる人多そうなのでPythonの豆知識

まずは以下のPythonのコードを見てみてください
```python
x = 5
x = x + 7
```
これを見たときC言語の以下のコードと同等だと思ったりしてませんか?
①
```c
int x = 5;
x = x + 7;
```
実はこれは意味としては同等ではありません
同等なコードをわかりやすく書くならば
②
```c
int x = 5;
int x = x + 7;
```
となります。
まだ, "は?何が違うの?" って思うかもしれないので言語仕様的にこの違いが分かりやすいRustで①と②をそれぞれ書いてみましょう
①'
```rust
let mut x = 5;
x = x + 7;
```
②'
```rust
let x = 5;
let x = x + 7;
```
のようになります
ここで①'と②'に二つ違いがあることがわかると思います
一つ目に違いは①'の一行目に`mut`というキーワードが入っていることです
`mut`は"mutable"つまり"可変"を意味します。このキーワードがあるとその変数の値が変更可能になります
二つ目に違いは二行目に`let`というキーワードがあるかの違いです
`let`はその変数を(ここでは`x`)を宣言してその変数の値を入れるためのメモリ領域を割り当てます
つまり`let x = 5;`を日本語の疑似コードで意味を書くと
```
xという変数の値を格納するためにメモリのN番地を割り当てる
xにはN番地が割り当てられてるのでN番地に5という値を格納する
```
ということになります
つまり①は
```
右辺: 値(5)
xという変数の値を格納するためにメモリの N番地 を割り当てる(xの値は書き変え可能) // letの意味
左辺:xには N番地 が割り当てられている
左辺でわかった N番地 に,右辺でわかった 値(5) を格納 // ここまでが1行目の処理

右辺:xには N番地 が割り当てられているのでそこの値を読み取る -> 値(5): これに 値(7) を足す -> 値(12)
左辺:xには N番地 が割り当てられている
左辺でわかった N番地 に,右辺でわかった 値(12) を格納
```
一方②は
```
右辺: 値(5)
xという変数の値を格納するためにメモリの N番地 を割り当てる // letの意味
左辺:xには N番地 が割り当てられている
左辺でわかった N番地 に,右辺でわかった 値(5) を格納 // ここまでが1行目の処理

右辺:xには N番地 が割り当てられているのでそこの値を読み取る -> 値(5): これに 値(7) を足す -> 値(12)
xという変数の値を格納するためにメモリの M番地 を割り当てる
左辺:xには M番地 が割り当てられている
左辺でわかった M番地 に,右辺でわかった 値(12) を格納 
```
この通り①では一行目と二行目で x に割り当てられている番地が変わらないのに対して②では x に割り当てられている番地が N から M に変わっています

これは簡単に示したものでさらに正確に考えると②,②'も最初に書いたPythonのコードとは少し意味が違います
最初に書いたPythonのコードを正確に日本語の疑似コードで表現するのであれば
```
右辺: 値(5) がありこれをとりあえず N番地 に格納する -> N番地
変数x に対応する番地を 右辺から分かった N番地 とする // ここまでが一行目

右辺: 変数x には N番地 が割り当てられてるのでそこの値を読み取る -> 値(5): これに 値(7)を足す -> 値(12) : 値(12)　をとりあえず M番地 に格納する -> M番地
変数x に対応する番地を 右辺から分かった M番地 とする
```
のようになっています
ちなみに
```python
x = 10
x = x
```
のようにしたときは
```
右辺: 値(10) がありこれをとりあえず N番地 に格納する -> N番地
変数x に対応する番地を 右辺から分かった N番地 とする

右辺: 変数x に対応する番地は N番地  -> N番地
変数x に対応する番地を 右辺から分かった N番地 とする
```
のようになっています
つまり
```python
x = 10
y = x
```
では`x`と`y`の割り当てられている番地は一緒になっているんです